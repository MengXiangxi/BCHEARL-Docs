{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"BCH EARL \u00b6 A tool on the Windows system to obtain recovery coefficients from phantoms for PET/CT image harmonization applications. Developed by Xiangxi Meng, PhD, B eijing C ancer H ospital About the project \u00b6 Harmonization of PET quantification performance is not only important in multicenter clinical trials, but also affects the accuracy in clinical diagnosis. Currently, many influential protocols for PET harmonization involve imaging the NEMA/IEC IQ phantom and obtaining the recovery coefficient (RC) curves, including the EARL protocol. However, there are only a handful of tools to obtain the RCs from the PET images of the phantoms. The community still needs yet another tool to build their pipelines. In light of this, I developed a personal pipeline, emulating the EARL protocol, to perform harmonization evaluations. I have already applied this protocol in multiple healthcare providers in Beijing. I hope you enjoy the project and the tool. References \u00b6 Boellaard, Ronald, et al. \u201cFDG PET and PET/CT: EANM procedure guidelines for tumour PET imaging: version 1.0.\u201d European Journal of Nuclear Medicine and Molecular Imaging 37 (2010): 181-200. EANM guidelines 1.0, which proposed the original version of the EARL protocol, EARL1. Kaalep, Andres, et al. \u201cFeasibility of state of the art PET/CT systems performance harmonisation.\u201d European Journal of Nuclear Medicine and Molecular Imaging 45 (2018): 1344-1361. Proposed the range for EARL2. Siemens EQ\u2022PET , with white paper . Siemens released a product to perform harmonizations over different scanners. The principles are similar, but the purpose of BCH EARL is not the same. Tsutsui, Yuji, et al. \u201cMulticentre analysis of PET SUV using vendor-neutral software: the Japanese Harmonization Technology (J-Hart) study.\u201d EJNMMI Research 8 (2018): 83. Another similar protocol practiced in Japan. License \u00b6 For now, I am reserving all rights. But I do have a plan to release it as an open source software. However, I also retains the rights of commercialization. Cite \u00b6 Please contact me before my paper gets published. Thank you in advance. Contact \u00b6 See my homepage . I am very happy to discuss with you about it. History \u00b6 Release history of the BCH EARL tool. Version Date Comment 0.1 20220709 First Release 0.5.0 20230721 Final evaluation version Acknowledgement \u00b6 Thank you for reviewing the code and/or testing the functions. Jingjing Li, United Imaging Healthcare, Shanghai Yifan Wu, United Imaging Healthcare, Shanghai Debin Hu, Nanfang Hospital, Southern Medical University, Guangzhou This project is support by the following agencies National Key R&D Program of China (2022YFC2409405), Ministry of Science and Technology of the People\u2019s Republic of China Beijing Center for Nuclear Medicine Quality Control and Improvement, Beijing Cancer Hospital","title":"About"},{"location":"#bch-earl","text":"A tool on the Windows system to obtain recovery coefficients from phantoms for PET/CT image harmonization applications. Developed by Xiangxi Meng, PhD, B eijing C ancer H ospital","title":"BCH EARL"},{"location":"#about-the-project","text":"Harmonization of PET quantification performance is not only important in multicenter clinical trials, but also affects the accuracy in clinical diagnosis. Currently, many influential protocols for PET harmonization involve imaging the NEMA/IEC IQ phantom and obtaining the recovery coefficient (RC) curves, including the EARL protocol. However, there are only a handful of tools to obtain the RCs from the PET images of the phantoms. The community still needs yet another tool to build their pipelines. In light of this, I developed a personal pipeline, emulating the EARL protocol, to perform harmonization evaluations. I have already applied this protocol in multiple healthcare providers in Beijing. I hope you enjoy the project and the tool.","title":"About the project"},{"location":"#references","text":"Boellaard, Ronald, et al. \u201cFDG PET and PET/CT: EANM procedure guidelines for tumour PET imaging: version 1.0.\u201d European Journal of Nuclear Medicine and Molecular Imaging 37 (2010): 181-200. EANM guidelines 1.0, which proposed the original version of the EARL protocol, EARL1. Kaalep, Andres, et al. \u201cFeasibility of state of the art PET/CT systems performance harmonisation.\u201d European Journal of Nuclear Medicine and Molecular Imaging 45 (2018): 1344-1361. Proposed the range for EARL2. Siemens EQ\u2022PET , with white paper . Siemens released a product to perform harmonizations over different scanners. The principles are similar, but the purpose of BCH EARL is not the same. Tsutsui, Yuji, et al. \u201cMulticentre analysis of PET SUV using vendor-neutral software: the Japanese Harmonization Technology (J-Hart) study.\u201d EJNMMI Research 8 (2018): 83. Another similar protocol practiced in Japan.","title":"References"},{"location":"#license","text":"For now, I am reserving all rights. But I do have a plan to release it as an open source software. However, I also retains the rights of commercialization.","title":"License"},{"location":"#cite","text":"Please contact me before my paper gets published. Thank you in advance.","title":"Cite"},{"location":"#contact","text":"See my homepage . I am very happy to discuss with you about it.","title":"Contact"},{"location":"#history","text":"Release history of the BCH EARL tool. Version Date Comment 0.1 20220709 First Release 0.5.0 20230721 Final evaluation version","title":"History"},{"location":"#acknowledgement","text":"Thank you for reviewing the code and/or testing the functions. Jingjing Li, United Imaging Healthcare, Shanghai Yifan Wu, United Imaging Healthcare, Shanghai Debin Hu, Nanfang Hospital, Southern Medical University, Guangzhou This project is support by the following agencies National Key R&D Program of China (2022YFC2409405), Ministry of Science and Technology of the People\u2019s Republic of China Beijing Center for Nuclear Medicine Quality Control and Improvement, Beijing Cancer Hospital","title":"Acknowledgement"},{"location":"DemoData/","text":"Demo Data \u00b6 The demo data are provided to facilitate the understanding of the workflow and providing a template for the task file. It is HIGHLY recommended that the user download them and try running the program with them. The source of the imaging data \u00b6 The DICOM files were adapted from NEMA IQ phantom raw data GE 4-ring DMI on Zenodo following the Creative Commons Attribution 4.0 International license. Schramm, Georg, & Baete, Kristof. (2022). NEMA IQ phantom raw data GE 4-ring DMI (1.0) [Data set]. Zenodo. https://doi.org/10.5281/zenodo.6402885 The DICOM files were taken from the file raw_data_1e8_prompts.zip . I took the files in the raw_1/duetto_workdir/offline3D folder. Many thanks to my friend Zhan Tong Zhang for preparing the data. The structure of the demo data \u00b6 Upon unzipping, the demo data contain the following files. D:\\BCHEARL_DEMO \u2502 demoFillData.mat \u2502 demoROI.mat \u2502 demoTask.json \u2502 \u2514\u2500\u2500\u2500NOT_DIAGNOSTIC_offline3D _bin1_sl1.sdcopen _bin1_sl10.sdcopen _bin1_sl11.sdcopen _bin1_sl12.sdcopen ... demoFillData.mat is a binary data containing the filling parameters of the phantom. The data were fabricated by me. They were not the actual data in the preparation of the phantom. demoROI.mat is a binary data for the preliminary ROI drawn over the spheres. demoTask.json is a json task file containing two json instances. It will yield two sets of figure and tables once calculated. NOT_DIAGNOSTIC_offline3D contains a series of DICOM images. The extension is .sdcopen , but the files can be loaded by a DICOM viewer. Obtaining the demo data \u00b6 Download the zip file here . Unzip it to D:/ , and the new folder will be D:/BCHEARL_DEMO/ . Of course, you can unzip it anywhere, but you may need to revise the related \"Work Path\" value in the json task file demoTask.json .","title":"Demo Data"},{"location":"DemoData/#demo-data","text":"The demo data are provided to facilitate the understanding of the workflow and providing a template for the task file. It is HIGHLY recommended that the user download them and try running the program with them.","title":"Demo Data"},{"location":"DemoData/#the-source-of-the-imaging-data","text":"The DICOM files were adapted from NEMA IQ phantom raw data GE 4-ring DMI on Zenodo following the Creative Commons Attribution 4.0 International license. Schramm, Georg, & Baete, Kristof. (2022). NEMA IQ phantom raw data GE 4-ring DMI (1.0) [Data set]. Zenodo. https://doi.org/10.5281/zenodo.6402885 The DICOM files were taken from the file raw_data_1e8_prompts.zip . I took the files in the raw_1/duetto_workdir/offline3D folder. Many thanks to my friend Zhan Tong Zhang for preparing the data.","title":"The source of the imaging data"},{"location":"DemoData/#the-structure-of-the-demo-data","text":"Upon unzipping, the demo data contain the following files. D:\\BCHEARL_DEMO \u2502 demoFillData.mat \u2502 demoROI.mat \u2502 demoTask.json \u2502 \u2514\u2500\u2500\u2500NOT_DIAGNOSTIC_offline3D _bin1_sl1.sdcopen _bin1_sl10.sdcopen _bin1_sl11.sdcopen _bin1_sl12.sdcopen ... demoFillData.mat is a binary data containing the filling parameters of the phantom. The data were fabricated by me. They were not the actual data in the preparation of the phantom. demoROI.mat is a binary data for the preliminary ROI drawn over the spheres. demoTask.json is a json task file containing two json instances. It will yield two sets of figure and tables once calculated. NOT_DIAGNOSTIC_offline3D contains a series of DICOM images. The extension is .sdcopen , but the files can be loaded by a DICOM viewer.","title":"The structure of the demo data"},{"location":"DemoData/#obtaining-the-demo-data","text":"Download the zip file here . Unzip it to D:/ , and the new folder will be D:/BCHEARL_DEMO/ . Of course, you can unzip it anywhere, but you may need to revise the related \"Work Path\" value in the json task file demoTask.json .","title":"Obtaining the demo data"},{"location":"UserGuide/","text":"User guide \u00b6 Installing \u00b6 BCH EARL is distributed through Windows executable files. The current version is developed by MATLAB App Designer , thus it requires a MATLAB runtime of a certain version. Offline installation By default, the (high quality) internet connection is required to download the MATLAB runtime. When installing offline, you may need to prepare the corresponding runtime manually and specify the runtime folder. Apart from this, the installation process shall be smooth. Calculating with GUI \u00b6 Upon successful installation, you can see run the application. The Menu is on the top. Below it are two panels. The Left Panel contains several groups that go through the whole workflow, namely Load Parameters , ROI Tool , and the Quantification . The Right Panel conatins the Figure Area , the Reference Standard Option , and the Color Scale . Specify the working directory \u00b6 It is highly recommended to set the working directory before each run. To do so, use the menu File > Specify working directory . Refreshing the program will set the working directory back to default. The default directory is %UserProfile%\\Documents\\MATLAB . Specify the phantom filling parameters \u00b6 To specify the filling doses, filling volumes and filling times, press Parameter loader to start a new app window. If strictly adhered to the official BCH EARL imaging protocol (to be released later) and used the official record form (to be released later), the items shall be readily at hand. Otherwise, you may need to make some compromise. Once provided all necessary data, you may press Done to accept the values. Or you can Save the data to a .mat binary file, to be later loaded using the Load existed button. This binary file can also be used in the task file . Import the DICOM series \u00b6 You can adjust the Color scale on the lower right corner of the right panel. The effect of the color scale is universal. Obtain a preliminary ROI \u00b6 Segment and calculate the RCs \u00b6 Export the results \u00b6 Gaussian filtering \u00b6 Calculating with task file \u00b6 Other functions \u00b6 Parallel \u00b6 The parallel computing function is provided through MATLAB. Generally, this feature may accelerate the loading and saving of multiple DICOM files. However, there are some side effects. Risks of parallel The starting of the parallel pool can be very slow. The memory management of parallel has bugs . Refresh \u00b6 File > Refresh will refresh the program, setting most functions and variables to the default status. The Parallel check box is not affected. Free RAMs Due to a problem with the parallel feature of MATLAB, the RAM may not be able to be freed without restarting the program. Refreshing the program will not help to release the RAM in such cases. About \u00b6 Help > About prints the information about the program, including the license. Help \u00b6 Help > Help points to the help page for this program.","title":"User guide"},{"location":"UserGuide/#user-guide","text":"","title":"User guide"},{"location":"UserGuide/#installing","text":"BCH EARL is distributed through Windows executable files. The current version is developed by MATLAB App Designer , thus it requires a MATLAB runtime of a certain version. Offline installation By default, the (high quality) internet connection is required to download the MATLAB runtime. When installing offline, you may need to prepare the corresponding runtime manually and specify the runtime folder. Apart from this, the installation process shall be smooth.","title":"Installing"},{"location":"UserGuide/#calculating-with-gui","text":"Upon successful installation, you can see run the application. The Menu is on the top. Below it are two panels. The Left Panel contains several groups that go through the whole workflow, namely Load Parameters , ROI Tool , and the Quantification . The Right Panel conatins the Figure Area , the Reference Standard Option , and the Color Scale .","title":"Calculating with GUI"},{"location":"UserGuide/#specify-the-working-directory","text":"It is highly recommended to set the working directory before each run. To do so, use the menu File > Specify working directory . Refreshing the program will set the working directory back to default. The default directory is %UserProfile%\\Documents\\MATLAB .","title":"Specify the working directory"},{"location":"UserGuide/#specify-the-phantom-filling-parameters","text":"To specify the filling doses, filling volumes and filling times, press Parameter loader to start a new app window. If strictly adhered to the official BCH EARL imaging protocol (to be released later) and used the official record form (to be released later), the items shall be readily at hand. Otherwise, you may need to make some compromise. Once provided all necessary data, you may press Done to accept the values. Or you can Save the data to a .mat binary file, to be later loaded using the Load existed button. This binary file can also be used in the task file .","title":"Specify the phantom filling parameters"},{"location":"UserGuide/#import-the-dicom-series","text":"You can adjust the Color scale on the lower right corner of the right panel. The effect of the color scale is universal.","title":"Import the DICOM series"},{"location":"UserGuide/#obtain-a-preliminary-roi","text":"","title":"Obtain a preliminary ROI"},{"location":"UserGuide/#segment-and-calculate-the-rcs","text":"","title":"Segment and calculate the RCs"},{"location":"UserGuide/#export-the-results","text":"","title":"Export the results"},{"location":"UserGuide/#gaussian-filtering","text":"","title":"Gaussian filtering"},{"location":"UserGuide/#calculating-with-task-file","text":"","title":"Calculating with task file"},{"location":"UserGuide/#other-functions","text":"","title":"Other functions"},{"location":"UserGuide/#parallel","text":"The parallel computing function is provided through MATLAB. Generally, this feature may accelerate the loading and saving of multiple DICOM files. However, there are some side effects. Risks of parallel The starting of the parallel pool can be very slow. The memory management of parallel has bugs .","title":"Parallel"},{"location":"UserGuide/#refresh","text":"File > Refresh will refresh the program, setting most functions and variables to the default status. The Parallel check box is not affected. Free RAMs Due to a problem with the parallel feature of MATLAB, the RAM may not be able to be freed without restarting the program. Refreshing the program will not help to release the RAM in such cases.","title":"Refresh"},{"location":"UserGuide/#about","text":"Help > About prints the information about the program, including the license.","title":"About"},{"location":"UserGuide/#help","text":"Help > Help points to the help page for this program.","title":"Help"}]}